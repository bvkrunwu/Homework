def filter_by_state(transactions: list, state: str = 'EXECUTED') -> list:
    """
    Данная функция получает список транзакций и возвращает новый список,
    включающий только те транзакции, у которых значение ключа 'state'
    совпадает с переданным параметром state. По умолчанию фильтр ищет
    транзакции с состоянием 'EXECUTED'

    Args:
        transactions (list): Список транзакций, представляющих собой словари.
                             Каждая транзакция, должна иметь ключ 'state'.
                             Определяющий её текущее состояние.
        state (str): Строка, определяющая интересующее состояние транзакции.
                     Значением по умолчанию является 'EXECUTED', означающее
                     выполненную транзакцию.

    Returns:
        list: Отфильтрованный список транзакций, удовлетворяющий условиям
              выбора по переданному состоянию.
    """

    # Создаем пустой список для хранения отобранных транзакций
    filtered_transactions = []

    # Проходим циклом по каждой транзакции в переданном списке
    for transaction in transactions:
        # Проверяем, соответствует ли состояние текущей транзакции запрашиваемое
        if transaction.get('state') == state:
            # Добавляем подходящую транзакцию в результирующий список
            filtered_transactions.append(transaction)

    # Добавляем итоговый список отфильтрованных транзакций
    return filtered_transactions
